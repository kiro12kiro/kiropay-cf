<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiroPay Project</title>
    <link rel="stylesheet" href="style.css">

    <style>
        /* (... ุงูุฃููุงุฏ ุงูุณุงุจูุฉ ููุง ูู ...) */
        
        /* ๐๐ ุชู ุงูุชุนุฏูู ููุง ๐๐ */
        #user-announcement-text { 
            font-size: 1.3em; /* ุชูุจูุฑ ุงูุฎุท */
            color: #333; 
            font-weight: bold; /* ุฎุท ุนุฑูุถ */
        }
    </style>
</head>
<body>

    <div class="container">
        
        <div class="card-and-forms-wrapper">
            <div class="card-container">
                <div class="card">
                    
                    <div class="avatar-wrapper" style="position: relative; width: 150px; height: 150px; margin: 0 auto 1rem;">
                        <img src="/default-avatar.png" alt="Card Image" class="card-img" id="user-avatar">
                        <label for="avatar-upload-input" class="avatar-overlay" id="avatar-overlay-label">
                            ุชุบููุฑ ุงูุตูุฑุฉ
                        </label>
                        <input type="file" id="avatar-upload-input" accept="image/png, image/jpeg">
                    </div>
                    
                    <p id="user-name">Name: </p>
                    <p id="user-family">Family: </p>
                    <p id="user-balance">Balance: </p>
                    <p id="user-level">ุงููุณุชูู: </p>

                    <div class="transaction-history">
                        <h4>ุณุฌู ุงููุนุงููุงุช</h4>
                        <ul id="transaction-list">
                            </ul>
                    </div>
                </div>
            </div>
            
            <div class="button-group">
                <button id="refresh-data-btn" style="display: none;">ุชุญุฏูุซ ุงูุจูุงูุงุช</button>
                <button id="unlocked-items-btn" style="display: none;">ูุดุชุฑูุงุชู</button>
                <button id="logout-btn">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
            </div>


            <div class="form-container">
                </div>
        </div> 
    </div> 
    
    <div id="message" style="text-align: center; margin-top: 1rem; font-size: 1.1em;"></div>
    
    <div class="store-container" id="store-container" style="display: none;">
        <h2>๐ TAKLOPOLY STORE</h2> 
        <p style="text-align: center; color: #555;">ุงุณุชุจุฏู ููุงุทู ุจุนูุงุตุฑ ูููุฒุฉ.</p>
        <div class="store-items-grid" id="store-items-list">
            <p style="text-align: center;" id="store-loading-message">ุฌุงุฑู ุชุญููู ุนูุงุตุฑ ุงููุชุฌุฑ...</p>
        </div>
        <p id="store-message" style="text-align: center; margin-top: 15px; font-weight: bold;"></p>
    </div>
    
    <div class="admin-panel-container">
        
        <div id="admin-panel" style="display: none;">
            
            <h2>ููุญุฉ ุชุญูู ุงูุฃุฏูู</h2>
            
            <div class="admin-section">
                <h4>ุงูุจุญุซ ุนู ูุณุชุฎุฏู (ุจุงูุงุณู)</h4>
                <div id="admin-searched-user-card" style="display: none;">
                    <p><strong>ุงูุงุณู:</strong> <span id="searched-user-name"></span></p>
                    <p><strong>ุงูุนุงุฆูุฉ:</strong> <span id="searched-user-family"></span></p>
                    <p><strong>ุงูุฅูููู:</strong> <span id="searched-user-email"></span></p>
                    <p><strong>ุงูุฑุตูุฏ ุงูุญุงูู:</strong> <span id="searched-user-balance"></span></p>
                    <p><strong>ุงููุณุชูู ุงูุญุงูู:</strong> <span id="searched-user-level"></span></p>
                    
                    <hr style="margin: 1rem 0;">

                    <h4>ุชุนุฏูู ุงูุฑุตูุฏ</h4>
                    <div id="admin-balance-controls">
                        <input type="number" id="admin-balance-amount" placeholder="ุงููููุฉ" required>
                        <button id="admin-add-balance-btn">ุฅุถุงูุฉ (+)</button>
                        <button id="admin-subtract-balance-btn">ุฎุตู (-)</button>
                    </div>
                    <p id="admin-balance-message" style="color: green;"></p>
                    
                    <hr style="margin: 1rem 0;">
                    <h4>ุชุนุฏูู ูุณุชูู ุงููุณุชุฎุฏู</h4>
                    <div id="admin-level-controls">
                        <input type="number" id="admin-level-amount" placeholder="ุงููุณุชูู ุงูุฌุฏูุฏ" required min="1">
                        <button id="admin-update-level-btn">ุชุญุฏูุซ ุงููุณุชูู</button>
                    </div>
                    <p id="admin-level-message" style="color: green;"></p>
                    
                    <hr style="margin: 1rem 0;">

                    <h4 style="color: #dc3545; margin-top: 1.5rem;">ุญุฐู ุงููุณุชุฎุฏู (ุฎุทุฑ)</h4>
                    </div>
            </div>
            
            <div class="admin-section">
                <h4>ุฅุฏุงุฑุฉ ุนูุงุตุฑ ุงููุชุฌุฑ</h4>
                <form id="admin-add-item-form" style="margin-bottom: 15px; border: 1px solid #ddd; padding: 10px; border-radius: 4px;">
                    <h5>ุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ</h5>
                    <input type="text" id="store-item-name" placeholder="ุงุณู ุงูุนูุตุฑ (ูุซุงู: ูุงุฑุช ุดุญู)" required>
                    <input type="number" id="store-item-price" placeholder="ุณุนุฑ ุงูุนูุตุฑ ุจุงูููุงุท (ูุซุงู: 50)" required>
                    
                    <label for="store-item-required-level" style="text-align: right; font-size: 0.9em; color: #555; margin-top: 5px;">ุงููุณุชูู ุงููุทููุจ (ุงูุชุฑุงุถู: 1):</label>
                    <input type="number" id="store-item-required-level" placeholder="ุงููุณุชูู ุงููุทููุจ (ูุซุงู: 1)" required min="1" value="1">

                    <label for="store-item-image-file" style="text-align: right; font-size: 0.9em; color: #555; margin-top: 5px;">ุตูุฑุฉ ุงูููุชุฌ (ุงุฎุชูุงุฑู):</label>
                    <input type="file" id="store-item-image-file" accept="image/png, image/jpeg">
                    
                    <button type="submit" style="background-color: #007bff; margin-top: 10px;">ุฅุถุงูุฉ ุงูุนูุตุฑ ูููุชุฌุฑ</button>
                </form>
                <p id="admin-store-message" style="color: green; margin-top: 10px;"></p>
                
                <h5>ุงูุนูุงุตุฑ ุงูุญุงููุฉ ูู ุงููุชุฌุฑ:</h5>
                <ul id="admin-store-items-list" style="list-style: none; padding: 0;">
                    <li>ุฌุงุฑู ุชุญููู ุงูุนูุงุตุฑ...</li>
                </ul>
            </div>
            </div>
    </div>
    
    <div id="edit-modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>ุชุนุฏูู ุจูุงูุงุช ุงูููุชุฌ</h3>
            <span class="close-btn" id="close-edit-modal">&times;</span>

            <form id="edit-item-form">
                <label for="edit-item-price">ุงูุณุนุฑ (ููุงุท):</label>
                <input type="number" id="edit-item-price" required min="1">

                <label for="edit-item-required-level" style="margin-top: 15px;">ุงููุณุชูู ุงููุทููุจ:</label>
                <input type="number" id="edit-item-required-level" required min="1">

                <label for="edit-item-new-file" style="margin-top: 15px;">ุชุบููุฑ ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู):</label>
                <input type="file" id="edit-item-new-file" accept="image/png, image/jpeg">
                
                <p id="edit-upload-status-message" class="message" style="margin-top: 10px;"></p>

                <button type="submit" id="save-edit-btn" style="margin-top: 20px;">ุญูุธ ุงูุชุนุฏููุงุช</button>
            </form>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
