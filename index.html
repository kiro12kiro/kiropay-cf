<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiroPay Project</title>
    <link rel="stylesheet" href="style.css">

    <style>
        /* * كل الأكواد اللي كانت هنا اتشالت
         * واتحطت في ملف style.css 
         * عشان التنظيم
        */
    </style>
</head>
<body>

    <div class="container">
        <div class="card-and-forms-wrapper">
            <div class="card-container">
                <div class="card">
                    <img src="/default-avatar.png" alt="Card Image" class="card-img" id="user-avatar">
                    <p id="user-name">Name: </p>
                    <p id="user-family">Family: </p>
                    <p id="user-balance">Balance: </p>
                </div>
            </div>
            
            <button id="logout-btn">تسجيل الخروج</button>

            <div class="form-container">
                <form id="login-form">
                    <h3>Login</h3>
                    <input type="email" id="email" placeholder="Email" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <button type="submit">Login</button>
                </form>

                <form id="signup-form">
                    <h3>Sign Up</h3>
                    <input type="text" id="name" placeholder="Name" required>
                    
                    <label for="family" style="text-align: left; font-size: 0.9em; color: #555;">Family:</label>
                    <select id="family" required>
                        <option value="" disabled selected>-- اختر الأسرة --</option>
                        <option value="اسرة الانبا موسي الاسود">اسرة الانبا موسي الاسود</option>
                        <option value="اسرة مارجرس">اسرة مارجرس</option>
                        <option value="اسرة الانبا كاراس">اسرة الانبا كاراس</option>
                    </select>
                    
                    <input type="email" id="signup-email" placeholder="Email" required>
                    <input type="password" id="signup-password" placeholder="Password" required>

                    <label for="avatar-file" style="text-align: left; font-size: 0.9em; color: #555;">Profile Picture (Optional):</label>
                    <input type="file" id="avatar-file" accept="image/png, image/jpeg">

                    <button type="submit">Sign Up</button>
                </form>
            </div>
        </div> </div> <div id="message" style="text-align: center; margin-top: 1rem; font-size: 1.1em;"></div>

    
    <div class="admin-panel-container">
        
        <div id="admin-panel" style="display: none;">
            
            <h2>لوحة تحكم الأدمن</h2>
            
            <div class="admin-section">
                <h4>البحث عن مستخدم (بالاسم)</h4>
                <form id="admin-search-form">
                    <input type="text" id="admin-search-name" placeholder="أدخل اسم المستخدم" required>
                    <button type="submit">بحث</button>
                </form>
                
                <div id="admin-results-list" style="display: none; margin-top: 15px;">
                    <label for="admin-select-user" style="display: block; margin-bottom: 5px; font-weight: bold;">
                        تم العثور على عدة مستخدمين، اختر واحد:
                    </label>
                    <select id="admin-select-user" style="width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #ccc; background-color: white;">
                    </select>
                </div>

                <p id="admin-search-message" style="color: red; margin-top: 10px;"></p>

                <div id="admin-searched-user-card" style="display: none;">
                    <p><strong>الاسم:</strong> <span id="searched-user-name"></span></p>
                    <p><strong>العائلة:</strong> <span id="searched-user-family"></span></p>
                    <p><strong>الإيميل:</strong> <span id="searched-user-email"></span></p>
                    <p><strong>الرصيد الحالي:</strong> <span id="searched-user-balance"></span></p>
                    
                    <hr style="margin: 1rem 0;">

                    <h4>تعديل الرصيد</h4>
                    <div id="admin-balance-controls">
                        <input type="number" id="admin-balance-amount" placeholder="الكمية" required>
                        <button id="admin-add-balance-btn">إضافة (+)</button>
                        <button id="admin-subtract-balance-btn">خصم (-)</button>
                    </div>
                    <p id="admin-balance-message" style="color: green;"></p>
                    
                    <hr style="margin: 1rem 0;">

                    <h4 style="color: #dc3545; margin-top: 1.5rem;">حذف المستخدم (خطر)</h4>
                    <button id="admin-delete-user-btn">
                        حذف هذا المستخدم نهائياً
                    </button>
                    <p id="admin-delete-message" style="color: red;"></p>
                </div>
            </div>
            <div class="admin-section">
                <h4>عرض المستخدمين حسب الأسرة</h4>
                <div class="family-buttons-container">
                    <button class="family-btn" data-family="اسرة الانبا موسي الاسود">
                        اسرة الانبا موسي الاسود
                    </button>
                    <button class="family-btn" data-family="اسرة مارجرس">
                        اسرة مارجرس
                    </button>
                    <button class="family-btn" data-family="اسرة الانبا كاراس">
                        اسرة الانبا كاراس
                    </button>
                </div>
                
                <p id="admin-family-message" style="color: blue; margin-top: 10px;"></p>
                
                <div id="admin-family-results" style="display: none;">
                </div>
            </div>
            </div>

    </div>
    <script src="app.js"></script>
</body>
</html>
